<div class="jumbotron p-4">
  <h2><b>Ventas</b></h2>
  <p id="notice" class="badge badge-pill badge-danger pt-2 pb-2"><%= notice %></p>
  <div class="table-responsive-sm">
    <table class="table table-striped table-hover w-100">
      <thead class="thead-dark">
        <tr>
          <th colspan="3" class="text-center">
            <%= link_to image_tag('NewIcon.png'), new_sale_path, title: 'Nuevo' %>
          </th>
          <th>Departamento</th>
          <th>N° de Reserva</th>
          <th>Banco</th>
          <th>Fecha Venta</th>
          <th>Tipo Pago</th>
          <th>Monto Efectivo</th>
          <th>Monto Financiado</th>
        </tr>
      </thead>

      <tbody>
        <% @sales.each do |sale| %>
          <tr>
            <td style="width:33px" class="pr-2 pl-2"><%= link_to image_tag('ShowIcon.png'), sale, title: 'Ver' %></td>
            <td style="width:33px" class="pr-1 pl-1"><%= link_to image_tag('EditIcon.png'), edit_sale_path(sale), title: 'Editar' %></td>
            <td style="width:40px" class="pr-1 pl-2">
              <%= link_to image_tag('DeleteIcon.png'), sale, title: 'Eliminar', method: :delete, data: { confirm: '¿Esta seguro?' } %></td>         
            <td><%= ProjectApartment.select(:Number).where("id = " + sale.project_apartment_id.to_s).collect(&:Number)[0] %></td>
            <td><%= ApartmentBooking.select(:id).where("id = " + sale.apartment_booking_id.to_s).collect {|e| e.id} [0] %></td>
            <td><%= Bank.select(:Name).where("id = " + sale.bank_id.to_s).collect(&:Name)[0] %></td>
            <td><%= sale.SaleDate %></td>
            <td>
              <% if sale.PaymentType == 0 %>
                <%= "Efectivo" %>
              <% else %>
                <%= "Financiado" %>
              <% end %>
            </td>
            <td><%= sale.CashAmount %></td>
            <td><%= sale.FinancedAmount %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
<br>